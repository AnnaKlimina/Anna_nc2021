function fillBookContainer(e,t){for(let n=0;n<6;n++){let o=tmplBookMiniCard.content.cloneNode(!0);e.append(o),o=e.lastElementChild,o.setAttribute("data-book",t[n].bookName+","+t[n].bookAuthor),o.querySelector(".container__item-picture").style.backgroundImage="url("+t[n].img+")",o.querySelector(".book-header__name").textContent=t[n].bookName,o.querySelector(".book-header__author").textContent=t[n].bookAuthor}}async function createMajorPage(){let e=document.querySelector(".main-page");e.dataset.currentPage="major-page",e.innerHTML='<div class="introduction-block">\n                    <h2 class="introduction-block__header">YourLib - бесплатная электронная библиотека</h2>\n                    <div class="introduction-block__introduction"></div>\n                </div>\n                 <section class="news-block">\n                    <div class="news-block__header">Новости</div>\n                    <a class="news-block__main-news">\n                        <div class="news-block__main-news-picture"></div>\n                        <h4 class="news-block__main-news-header"></h4>\n                    </a>\n                    <ul class="news-block__list news-list _scrollbar-transparent">\n                        <li class="news-list__item">\n                            <div class="news-list__button change-page-button button" data-menu-link="news-page">Показать больше</div>\n                        </li>\n                    </ul>\n                </section>\n\n                <section class="books-block">\n                    <section class="card-container">\n                        <h2 class="card-container__header">Популярное</h2>\n                        <div class="card-container__container container _scrollbar-transparent"></div>\n                    </section>\n\n                    <section class="card-container">\n                        <h2 class="card-container__header">Новинки</h2>\n                        <div class="advertisement-block">\n                            <div class="advertisement-block__content">\n                                <h3 class="book-header change-page-button" data-menu-link="current-book-page">\n                                    <span class="book-header__name"></span>\n                                    <span class="book-header__author"></span>\n                                </h3>\n                                <p class="advertisement-block__content-text"></p>\n                            </div>\n                            <div class="advertisement-block__picture"></div>\n                        </div>\n                        <div class="card-container__container container _scrollbar-transparent"></div>\n                    </section>\n                    <div class="books-block__button change-page-button button" data-menu-link="books-page">Перейти в каталог >>></div>';let t=await fetch("https://my-library-project-server.herokuapp.com/main_page_news");if(!t.ok)return void alert(t.status);{let n=await t.json(),o=n[0];e.querySelector(".introduction-block__introduction").textContent=introductionContent,e.querySelector(".news-block__main-news").href=o.link,e.querySelector(".news-block__main-news-picture").style.backgroundImage="url("+o.img+")",e.querySelector(".news-block__main-news-header").textContent=o.header;let a=e.querySelector(".news-list");for(let e=1;e<n.length-1;e++){let t=tmplNewsMiniCard.content.cloneNode(!0);a.prepend(t),t=a.querySelector(".news-list__item"),t.querySelector(".news-list__link").href=n[e].link,t.querySelector(".news-list__link").style.backgroundImage="url("+n[e].img+")",t.querySelector(".news-list__link-header").textContent=n[e].header}}if(t=await fetch("https://my-library-project-server.herokuapp.com/popular_books_main_page"),t.ok){let n=await t.json();fillBookContainer(e.querySelector(".card-container__container"),n)}else alert(t.status);if(t=await fetch("https://my-library-project-server.herokuapp.com/new_books_main_page"),t.ok){let n=await t.json();fillBookContainer(e.querySelectorAll(".card-container__container")[1],n)}else alert(t.status);let n=e.querySelector(".advertisement-block");n.querySelector(".change-page-button").setAttribute("data-book",newBook.bookName+","+newBook.bookAuthor),n.querySelector(".book-header__name").textContent=newBook.bookName,n.querySelector(".book-header__author").textContent=newBook.bookAuthor,n.querySelector(".advertisement-block__content-text").textContent=newBook.bookContent,n.querySelector(".advertisement-block__picture").style.backgroundImage="url("+newBook.image+")"}